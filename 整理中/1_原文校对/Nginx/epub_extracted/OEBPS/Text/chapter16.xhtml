<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>未知</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" type="text/css" href="../../stylesheet.css"/>
<link rel="stylesheet" type="text/css" href="../../page_styles.css"/>
</head>
  <body class="calibre">
  <h3 class="p" id="sigil_toc_id_19">2.2.3　代码编译</h3>

  <p class="ziti3">安装编译工具及依赖库，脚本如下：</p>
  <hr class="calibre6"/>
  <pre class="ziti5">yum -y install gcc pcre-devel  zlib-devel openssl-devel libxml2-devel \ 
    libxslt-devel gd-devel GeoIP-devel jemalloc-devel libatomic_ops-devel \
    perl-devel  perl-ExtUtils-Embed<span class="calibre19"><span class="calibre20">
</span></span></pre>
  <hr class="calibre6"/>

  <p class="ziti3">编译所有功能模块，脚本如下：<br class="calibre3"/></p>
  <hr class="calibre6"/>
  <pre class="ziti5">./configure \
    --with-threads \
    --with-file-aio \
    --with-http_ssl_module \
    --with-http_v2_module \
    --with-http_realip_module \
    --with-http_addition_module \
    --with-http_xslt_module=dynamic \
    --with-http_image_filter_module=dynamic \
    --with-http_geoip_module=dynamic \
    --with-http_sub_module \
    --with-http_dav_module \
    --with-http_flv_module \
    --with-http_mp4_module \
    --with-http_gunzip_module \
    --with-http_gzip_static_module \
    --with-http_auth_request_module \
    --with-http_random_index_module \
    --with-http_secure_link_module \
    --with-http_degradation_module \
    --with-http_slice_module \
    --with-http_stub_status_module \
    --with-stream=dynamic \
    --with-stream_ssl_module \
    --with-stream_realip_module \
    --with-stream_geoip_module=dynamic \
    --with-stream_ssl_preread_module \
    --with-compat  \
    --with-pcre-jit
    make &amp;&amp; make install
</pre>
  <hr class="calibre6"/>

  <p class="ziti3">此处只作为示例，可根据具体的需求灵活调整参数配置。编译后，默认安装目录为/usr/local/nginx。</p>
</body>
</html>
