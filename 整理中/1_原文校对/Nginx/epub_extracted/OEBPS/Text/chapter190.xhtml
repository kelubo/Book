<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>未知</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" type="text/css" href="../../stylesheet.css"/>
<link rel="stylesheet" type="text/css" href="../../page_styles.css"/>
</head>
  <body class="calibre">
  <h3 class="p" id="sigil_toc_id_204">10.5.3　Zabbix Agent安装</h3>

  <p class="ziti3">Zabbix的Agent端是部署在被监控对象上的进程，能够监控本地资源和应用。Zabbix的Agent端可以通过官方提供的rpm源进行快速安装。Zabbix的Agent端默认监听10050端口。</p>
  <hr class="calibre6"/>
  <pre class="ziti5">rpm -ivh https://repo.zabbix.com/zabbix/4.2/rhel/7/x86_64/zabbix-release-4.2-1.el7.noarch.rpm
yum install zabbix-agent
systemctl enable zabbix-agent

# 配置允许获取监控数据的Zabbix服务器IP地址
sed -i 's/^Server=.*/Server=10.10.10.1/g' /etc/zabbix/zabbix_agentd.conf

# 配置主动发送监控数据的目标Zabbix服务器IP地址，不指定端口时，默认端口为10051
sed -i 's/^ServerActive=.*/ServerActive=10.10.10.1/g' /etc/zabbix/zabbix_agentd.conf

# 配置使用当前系统的主机名，不进行自定义
sed -i "s/^Hostname=/^# Hostname=/g" /etc/zabbix/zabbix_agentd.conf

systemctl start zabbix-agent
</pre>
  <hr class="calibre6"/>

  <p class="ziti3">当启用Agent主动监控模式时，Hostname参数的值必须与服务端配置主机的字段Host name输入的内容一致且全局唯一，Agent将以该值为关键字从服务端查询待检测的监控项。当不设置Hostname参数时，则默认使用被监控主机的主机名。</p>
</body>
</html>
