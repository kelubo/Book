<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" style="font-size:1.250rem;">
<head><title></title>
<link href="flow0001.css" rel="stylesheet" type="text/css" />
</head>
<body>
<h3 class="p3">17.1.2　全同步复制介绍</h3>
<p class="ziti">同样，这里再用一个比喻来描述一主两从同步复制的概念，你依然买了两份礼物，需要同时送给你的两个好朋友，骑车找到第一个朋友家，然后打个电话把她叫出来，把礼物交到她的手里，接着继续到第二个朋友家，也是打电话告知她出来，同样把礼物交到她的手里，那么这两个传输的过程就都是同步复制的方式，同步的特点是保证礼物实时收到，效率会低一些，因为要等待朋友出来取，如果朋友再磨蹭一下，就会额外浪费很多时间。</p>
<p class="ziti">全同步复制（full sync repication）是指当主库执行完一个事务后，需要确保所有的从库都执行了该事务才返回给客户端。因为需要等待所有的从库都执行完该事务才能返回，所以全同步复制的性能必然会受到所有从库更新的拖累。</p>
<p class="ziti">MySQL自身不支持同步复制，需要用第三方工具如DRBD（sync模式）等实现同步复制，严格来说，把下文讲解的半同步复制技术默认（或人为）全部应用到所有从库上也算是全同步复制。</p>
<p class="ziti">同步复制的优点是能够确保将数据实时复制到所有的从库，但是主库需要等待所有从库的写入完成，这会影响主库的更新效率，可能还会导致主库的更新延迟，适合于对数据一致性要求较高的应用场景。</p>
</body>
</html>
