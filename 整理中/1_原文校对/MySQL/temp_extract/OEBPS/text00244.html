<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" style="font-size:1.250rem;">
<head><title></title>
<link href="flow0001.css" rel="stylesheet" type="text/css" />
</head>
<body>
<h3 class="p3">16.2.4　主主复制实践（自增ID）准备</h3>
<p class="p6">1.主主复制数据库实战环境准备</p>
<p class="ziti">MySQL主主复制实践对环境的要求比较简单，与主从复制环境一致即可，环境可以参考前文讲解，此处不现赘述。</p>
<p class="p6">2.定义主主复制需要的服务器角色</p>
<p class="ziti">主库及从库IP、端口信息如表16-1所示。</p>
<p class="middle-img">表16-1　主库及从库IP、端口信息</p>
<div class="pic"><img alt="" src="Image00125.jpg" />
</div>
<p class="p6">3.检查数据库的当前状态</p>
<p class="ziti">分别执行命令检查主主数据库的启动状态：</p>
<hr/>
<pre class="ziti1">[root@db01 ~]# lsof -i :3306
COMMAND  PID  USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
mysqld  3044 mysql   11u  IPv6  15565      0t0  TCP *:mysql (LISTEN)
[root@db02 ~]# lsof -i :3306
COMMAND  PID  USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
mysqld  3028 mysql   11u  IPv6  15422      0t0  TCP *:mysql (LISTEN)</pre>
<hr/>
<p class="ziti">根据结果可以确定数据库处于正常启动状态。</p>
</body>
</html>
