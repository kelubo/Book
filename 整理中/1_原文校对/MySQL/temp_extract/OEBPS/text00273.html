<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" style="font-size:1.250rem;">
<head><title></title>
<link href="flow0001.css" rel="stylesheet" type="text/css" />
</head>
<body>
<h2 class="p2">18.2　MHA的基本架构组成</h2>
<p class="ziti">整个MHA软件由两部分角色组成，即MHA Manager（管理节点）和MHA Node（数据节点）。MHA Manager服务可以独立部署在一台服务器（含虚拟机）上管理多个主从复制集群，也可以部署在某一台主从复制从节点或者其他应用服务器节点上，而MHA Node服务需要运行在每一个MySQL服务器上。MHA Manager会定时通过主库上的MHA Node服务监测主库，当主库出现故障时，它可以自动将最优从库（可以提前指定或由MHA判定）提升为新的主库，然后让所有其他的从库与新的主库重新保持正常的复制状态。故障的整个切换和转移的过程对客户以及应用程序几乎是完全透明的。</p>
</body>
</html>
