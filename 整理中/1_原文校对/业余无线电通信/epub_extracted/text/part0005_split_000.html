<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>c01</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="../stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="../page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body id="4OIQ0-4cbd95e5336c4fe1b8728c179770ce3b" class="calibre">
<div id="c01" class="calibre1">

<p class="author"><span class="calibre7">Hands-On Radio</span></p>
<p class="title-columns"><span class="charoverride5">Electronic Circuits</span></p>
<p class="experiment-number" id="t1"><span class="charoverride12">Experiment #125 — The Schmitt Trigger</span></p>
<p class="body-text9"><span class="charoverride5">Once you start building radio gear, you learn that a great deal of “radio” has little to do with RF. This month we’re going to work with one of the non-radio building blocks you’ll encounter when an analog signal and a digital function come together — the </span><span class="charoverride13">Schmitt trigger</span><span class="charoverride5">. Long-time readers may recall the Schmitt trigger making an appearance in Experiment #11 about op-amp comparators.</span><span class="charoverride14"><a id="ft1" href="part0005_split_000.html#fn1">1</a>,</span><span class="charoverride14"> </span><span class="charoverride14"><a id="ft2" href="part0005_split_000.html#fn2">2</a> </span><span class="charoverride5">Adding positive feedback to the basic comparator circuit creates </span><span class="charoverride13">hysteresis</span><span class="charoverride5"> — a switching threshold that changes depending on whether the circuit’s output is on or off. This turns out to be desirable in certain applications.</span></p>
<p class="body-text9"><span class="charoverride5">If you’re not familiar with op-amp comparators, download and read Experiment #11 from the “Hands-On Radio” web page. Page two covers hysteresis and how to design the comparator-based Schmitt trigger with discrete components. If you have an LM311 (or one of the equivalents listed) build a Schmitt trigger circuit and perform the experiment.</span></p>
<p class="subhead1"><span class="charoverride12">The Logic IC Schmitt Trigger</span></p>
<p class="body-text9"><span class="charoverride5">The ability to switch reliably in the presence of noise is a valuable function for digital circuits that have analog signals as inputs. Op-amps and discrete components take up valuable printed circuit board space, so the Schmitt trigger function was packaged into an IC. The basic set of six hex inverters (7414-type or CD4069 ICs) and quad NAND gates (74132 or CD4093) are the most common Schmitt trigger ICs. They are inexpensive and widely available.</span><span class="charoverride14"><a id="ft3" href="part0005_split_000.html#fn3">3</a></span></p>
<p class="body-text9"><span class="charoverride5">The difference in switching characteristics between standard logic gates and Schmitt triggers can be seen in the device data sheets. Download the Texas Instruments data sheets for the CD4011 (standard quad NAND) and CD4093 ICs from </span><span class="charoverride12"><a href="http://www.datasheetcatalog.org" class="calibre7">www.datasheetcatalog.org</a></span><span class="charoverride5">. Look in the dc or Static Electrical Characteristics tables and find the Input Low and Input High voltage specifications for a V</span><span class="charoverride15">DD</span><span class="charoverride5"> value of 5 V at 25</span><span class="charoverride5">°</span><span class="charoverride5"> C. For the standard gate the typical values of V</span><span class="charoverride15">IH</span><span class="charoverride5"> and V</span><span class="charoverride15">IL</span><span class="charoverride5"> are 3.5 and 1.5 V, respectively, and the response to an input signal in that 2 V range is undefined. For the Schmitt trigger IC, V</span><span class="charoverride15">N</span><span class="charoverride5"> and V</span><span class="charoverride15">P</span><span class="charoverride5"> are 1.9 and 2.9 V, only 1.0 V apart — a much smaller switching window — and drawing (b) at the bottom of the CD4093 datasheet’s first page shows the </span><span class="charoverride13">transfer characteristic</span><span class="charoverride5"> of the gate. Note that the output voltage is defined for all values of input voltage. Let’s put that to work.</span></p>
<p class="subhead1"><span class="charoverride12">Sensing Slowly Changing Signals</span></p>
<p class="body-text10"><span class="charoverride5">Any device controlled by a microprocessor needs to have a </span><span class="scbf">POWER_OK</span><span class="charoverride5"> signal to prevent its digital circuits from attempting to operate before the power supply is fully up and running. Such premature operation can yield strange results.</span></p>
<p class="body-text10"><span class="charoverride5">Similarly, when power is lost, the same signal notifies the digital circuits to shut down in a hurry. Specialized power monitoring ICs are available for this task, but the simple circuit in Figure 1 can also do the job.</span></p>
<p class="figure"><img src="../images/00004.jpeg" alt="" class="calibre5"/></p>
<p class="body-text10"><span class="charoverride5">When power turns </span><span class="scbf">ON</span><span class="charoverride5">, capacitor C1 charges slowly through R1, keeping V</span><span class="charoverride15">IN</span><span class="charoverride5"> below the buffer’s V</span><span class="charoverride15">P</span><span class="charoverride5"> threshold for a time delay of about one time constant, R1 </span><span class="charoverride5">×</span><span class="charoverride5"> C1. (The back-to-back inverters form a non-inverting </span><span class="charoverride13">buffer</span><span class="charoverride5">.) After that time, the buffer’s </span><span class="scbf">POWER_OK</span><span class="charoverride5"> signal goes high to indicate the power supply has had enough time to stabilize. If power is lost at any time during the charging process, or if power is turned </span><span class="scbf">OFF</span><span class="charoverride5"> after stabilizing, C1 is rapidly discharged through the 1N4148 and the </span><span class="scbf">POWER_OK</span><span class="charoverride5"> signal goes low.</span></p>
<p class="body-text10"><span class="charoverride5">You can build this circuit using two of the inverters in a 74HC14 IC powered by 5 V. To make it easy to observe the time delay, use a  1 MΩ resistor for R1 and a 1 </span><span class="charoverride5" xml:lang="ar-SA">µ</span><span class="charoverride5">F capacitor for C1. The 1 kΩ resistor provides current limiting during the experiment and is small compared to R1, so it has an insignificant effect on the charging time of C1.</span></p>
<p class="body-text10"><span class="charoverride5">Build the power-down detector using a CMOS hex inverter such as the 74HC14 or CD40106.  TTL versions (7414 or 74LS14) draw too much current for the 1 M</span><span class="charoverride5">W</span><span class="charoverride16"> </span><span class="charoverride5">resistor to act as  a pull-up. Also, in a real-world design, the inverter would be powered from a large capa- citor to allow it to hold </span><span class="scbf">POWER_OK</span><span class="charoverride5"> low for several msec, insuring a controlled shut-down period.</span></p>
<p class="body-text9"><span class="charoverride5">Watching the </span><span class="scbf">POWER_OK</span><span class="charoverride5"> signal with a voltmeter or oscilloscope, apply power to the circuit and verify that the signal stays low and does not go high until about 1 second has passed. If you connect one end of a clip lead or piece of wire to ground and simulate a power dropout by brushing the other end against the cathode of the diode (point A in Figure 1), the output signal should immediately go low, signifying power is </span><span class="charoverride13">not</span><span class="charoverride5"> OK and there should be a 1 second delay before it returns to the OK state. </span><span class="scbf">POWER_OK</span><span class="charoverride5"> might be used as a reset signal for a digital circuit.</span></p>
<p class="subhead1"><span class="charoverride12">Switch Debouncing</span></p>
<p class="body-text9"><span class="charoverride5">A switch may feel quite solid to you, leaving little doubt that when you close a switch, it instantly closes and stays closed. In truth, the contacts of almost all mechanical switches and relays literally bounce for a few milliseconds before settling down to stay closed. Because digital devices are so fast, software can react to those bounces as multiple switch closings and openings. While it’s possible to “debounce” a switch signal in software, it can be done with hardware, too.</span></p>
<p class="body-text9"><span class="charoverride5">Reconfigure your circuit as shown in Figure 2; only one inverter section is needed here. That wire you just used to simulate a power dropout can also simulate the noisy signal from a switch, or you can use a real momentary switch. The two time delays, t</span><span class="charoverride15">CL</span><span class="charoverride5"> and t</span><span class="charoverride15">OP</span><span class="charoverride5"> depend on the values of R1 and R2, respectively:</span></p>
<p class="figure"><img src="../images/00005.jpeg" alt="" class="calibre5"/></p>
<p class="body-text11"><span class="charoverride5">t</span><span class="charoverride15">CL</span><span class="charoverride5"> ≈ R2 </span><span class="charoverride5">×</span><span class="charoverride5"> C1 and t</span><span class="charoverride15">OP</span><span class="charoverride5"> ≈ R1 </span><span class="charoverride5">×</span><span class="charoverride5"> C1</span></p>
<p class="body-text9"><span class="charoverride5">Start with R1 = 1 MΩ, R2 = 10 kΩ, and C1 = 1 </span><span class="charoverride5" xml:lang="ar-SA">µ</span><span class="charoverride5">F. You’ll need an oscilloscope to see the bounces of the switch contacts and the short delay, t</span><span class="charoverride15">CL</span><span class="charoverride5">. </span></p>
<p class="body-text10"><span class="charoverride5">If you swap R1 and R2, you’ll find that R1 has to be much larger than R2 for </span><span class="scbf">SW_CLOSE</span><span class="charoverride5"> to go high. If R1 is too small, closing the switch does not discharge C1 below the V</span><span class="charoverride15">N</span><span class="charoverride5"> threshold for the inverter because R1 “overpowers” R2 and keeps the capacitor charged to higher than V</span><span class="charoverride15">N</span><span class="charoverride5">. Experiment with different values; you’ll find that R1 has to be about three times larger than R2 to get reliable results.</span></p>
<p class="body-text9"><span class="charoverride5">The squelch function in your radio also requires a continuously changing signal to cause switching at a threshold. If the input signal to R2 is the rectified and filtered output of a receiver’s audio amplifier, the output of the inverter indicates whether a signal is present.</span></p>
<p class="subhead1"><span class="charoverride12">Edge Detectors</span></p>
<p class="body-text9"><span class="charoverride5">In many cases you want to be able to tell when the input signal changes state without having to monitor it continuously. This requires an elementary form of memory that will allow a circuit that can compare “then” to “now.” The circuit in Figure 3 uses a two-input XOR gate to make the comparison and an R-C circuit to create the time delay that acts as memory. The Schmitt trigger input is required because of the slowly changing R-C circuit output.</span></p>
<p class="figure"><img src="../images/00006.jpeg" alt="" class="calibre5"/></p>
<p class="body-text10"><span class="charoverride5">V</span><span class="charoverride15">A</span><span class="charoverride5"> is the “now” state of V</span><span class="charoverride15">IN</span><span class="charoverride5"> while V</span><span class="charoverride15">B</span><span class="charoverride5"> is the “then” state. An XOR gate’s output is high only when just one of its inputs is high. If both inputs are in the same state — high or low — the output, </span><span class="scbf">CHANGE</span><span class="charoverride5">, is also low. During the delay period while C1 is charging or discharging (approximately equal to the time constant R1 </span><span class="charoverride5">×</span><span class="charoverride5"> C1), one input lags behind the other so that the XOR function is true and </span><span class="scbf">CHANGE</span><span class="charoverride5"> is high — but </span><span class="charoverride13">only</span><span class="charoverride5"> during the charge/discharge period. The Schmitt trigger action insures that the slowly-changing voltage V</span><span class="charoverride15">B</span><span class="charoverride5"> causes only one pulse with every transition of V</span><span class="charoverride15">IN</span><span class="charoverride5">.</span></p>
<p class="body-text9"><span class="charoverride5">You can build the circuit in Figure 3 using one section of a 74HC86 quad exclusive-OR gate with Schmitt trigger inputs. R1 and C1 values of 100 kΩ and 0.01 </span><span class="charoverride5" xml:lang="ar-SA">µ</span><span class="charoverride5">F will provide output pulses about 1 msec long. Use a 50% duty- cycle, 5 V pulse output from a function generator or a 555 timer circuit as V</span><span class="charoverride15">IN</span><span class="charoverride5"> (don’t use a square wave with a negative voltage) with a repetition rate of about 100 Hz. Vary the time constant of R1-C1 to see the effect on the output pulse width, viewed on an oscilloscope.</span></p>
<p class="body-text9"><span class="charoverride5">Another name for this circuit is a </span><span class="charoverride13">frequency doubler</span><span class="charoverride5">. Two output pulses occur for every input pulse — one at each edge of the input pulse. If you insert a Schmitt trigger inverter at point B, the </span><span class="scbf">CHANGE</span><span class="charoverride5"> pulses change from positive pulses at each edge to negative pulses.</span></p>
<p class="subhead1"><span class="charoverride12">Shopping List</span></p>
<p class="body-text12"><span class="charoverride5">74HC14 hex inverter</span></p>
<p class="body-text12"><span class="charoverride5">74HC86 quad XOR gate</span></p>
<p class="body-text12"><span class="charoverride5">1N4148 diode</span></p>
<p class="body-text13"><span class="charoverride17">1</span><span class="charoverride5">⁄</span><span class="charoverride18">4</span><span class="charoverride5">-watt resistors: 1 k</span><span class="charoverride5">Ω, 10 kΩ 100 kΩ, 1 MΩ</span></p>
<p class="body-text14"><span class="charoverride5">Capacitors: 0.01 </span><span class="charoverride5" xml:lang="ar-SA">µ</span><span class="charoverride5">F, 1 </span><span class="charoverride5" xml:lang="ar-SA">µ</span><span class="charoverride5">F (ceramic or electrolytic)</span></p>
<p class="body-text12"><span class="charoverride5">Momentary switch (optional)</span></p>
<p class="notes"> </p>
<p class="notes"> </p>
<p class="notes"> </p>
<p class="notes"><span class="charoverride19"><a id="fn1" href="part0005_split_000.html#ft1">1</a></span><span class="charoverride5">All previous “Hands-On Radio” experiments are available to ARRL members at <a href="http://www.arrl.org/hands-on-radio" class="calibre7">www.arrl.org/hands-on-radio</a>.</span></p>
<p class="notes"><span class="charoverride19"><a id="fn2" href="part0005_split_000.html#ft2">2</a></span><span class="charoverride5">The Schmitt trigger is named for Otto Schmitt who identified the function when studying properties of squid nerves in the 1930s!</span></p>
<p class="notes"><span class="charoverride19"><a id="fn3" href="part0005_split_000.html#ft3">3</a></span><span class="charoverride5">7400-family model ICs are available in many </span> <span class="calibre7">different logic families such as HC, LS, and AC.</span></p>



<div class="calibre11" id="calibre_pb_0"></div>
</div>
</body></html>
